<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./style.css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      /* Custom Font */
      body {
        font-family: "Inter", sans-serif;
        background-color: #f8fafc; /* Slate 50 */
      }
    </style>
    <title>Bootstraplist</title>
  </head>

  <body>
    <header class="bg-gray-800 text-white p-4 shadow-lg">
      <nav
        class="Top-Nav container mx-auto flex justify-center items-center space-x-4"
      >
        <div class="dropdown">
          <button
            class="btn btn-dark dropdown-toggle"
            type="button"
            id="productListsDropdown"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            Product Lists
          </button>
          <ul class="dropdown-menu" aria-labelledby="productListsDropdown">
            <li>
              <a class="dropdown-item" href="./productlistFLEXBOX.html"
                >Flex Box List</a
              >
            </li>
            <li>
              <a class="dropdown-item" href="./productlistBOOTSTRAP.html"
                >Boot Strap List</a
              >
            </li>
          </ul>
        </div>
        <span class="text-gray-500">|</span>
        <a
          href="./bestSeller.html"
          class="text-lg font-medium hover:text-blue-400 transition duration-300"
          >Best Seller</a
        >
        <span class="text-gray-500">|</span>
        <a
          href="./registration.html"
          class="text-lg font-medium hover:text-blue-400 transition duration-300"
          >Register</a
        >
        <span class="text-gray-500">|</span>
        <div id="cart-link-container">
          <a
            href="./shoppingCart.html"
            class="text-lg font-medium hover:text-blue-400 transition duration-300 relative"
            >Shopping Cart
            <span
              id="cart-count"
              class="absolute -top-2 -right-3 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full"
              >0</span
            ></a
          >
        </div>
      </nav>
    </header>

    <div
      class="bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg p-6 sticky top-0 z-10"
    >
      <div class="container mx-auto text-center">
        <h1 class="text-4xl md:text-5xl font-extrabold tracking-tight">
          Todays Tech Deals
        </h1>
        <p class="text-sm md:text-lg text-white mt-1 drop-shadow-md">
          Hot items To make your home life easier today!
        </p>
      </div>
    </div>

    <main class="container mx-auto p-6 md:p-12">
      <h2 class="text-2xl font-semibold text-gray-700 mb-6 border-b pb-2">
        Items to consider
      </h2>
      <div class="row g-4">
        <div class="col-12 col-md-6 col-lg-3">
          <div
            class="card h-100 shadow-sm drop-shadow-md transition-shadow duration-300 hover:shadow-xl"
          >
            <img
              src="./images/CoveHome.jpg"
              class="card-img-top"
              alt="Cove Home Security"
            />
            <div class="card-body d-flex flex-column">
              <h5 class="card-title">Cove Home Security</h5>
              <p class="card-text fw-bold fs-5 text-primary">$324.99</p>
              <button
                class="btn btn-primary mt-auto add-to-cart-btn"
                data-product-id="cove-home-security"
                data-product-name="Cove Home Security"
                data-product-price="324.99"
                data-product-image="./images/CoveHome.jpg"
              >
                Add to Cart
              </button>
            </div>
          </div>
        </div>
        <div class="col-12 col-md-6 col-lg-3">
          <div
            class="card h-100 shadow-sm drop-shadow-md transition-shadow duration-300 hover:shadow-xl"
          >
            <img
              src="./images/nest.jpeg"
              class="card-img-top"
              alt="Nest Thermostat"
            />
            <div class="card-body d-flex flex-column">
              <h5 class="card-title">Nest Thermostat</h5>
              <p class="card-text fw-bold fs-5 text-primary">$279</p>
              <button
                class="btn btn-primary mt-auto add-to-cart-btn"
                data-product-id="nest-thermostat"
                data-product-name="Nest Thermostat"
                data-product-price="279.00"
                data-product-image="./images/nest.jpeg"
              >
                Add to Cart
              </button>
            </div>
          </div>
        </div>
        <div class="col-12 col-md-6 col-lg-3">
          <div
            class="card h-100 shadow-sm drop-shadow-md transition-shadow duration-300 hover:shadow-xl"
          >
            <img
              src="./images/starlink.jpg"
              class="card-img-top"
              alt="Starlink Mini Kit"
            />
            <div class="card-body d-flex flex-column">
              <h5 class="card-title">Starlink Mini Kit</h5>
              <p class="card-text fw-bold fs-5 text-primary">$299</p>
              <button
                class="btn btn-primary mt-auto add-to-cart-btn"
                data-product-id="starlink-mini-kit"
                data-product-name="Starlink Mini Kit"
                data-product-price="299.00"
                data-product-image="./images/starlink.jpg"
              >
                Add to Cart
              </button>
            </div>
          </div>
        </div>
        <div class="col-12 col-md-6 col-lg-3">
          <div
            class="card h-100 shadow-sm drop-shadow-md transition-shadow duration-300 hover:shadow-xl"
          >
            <img
              src="./images/yalehome.jpeg"
              class="card-img-top"
              alt="Yale Home Dead Bolt"
            />
            <div class="card-body d-flex flex-column">
              <h5 class="card-title">Yale Home Dead Bolt</h5>
              <p class="card-text fw-bold fs-5 text-primary">$299</p>
              <button
                class="btn btn-primary mt-auto add-to-cart-btn"
                data-product-id="yale-home-dead-bolt"
                data-product-name="Yale Home Dead Bolt"
                data-product-price="299.00"
                data-product-image="./images/yalehome.jpeg"
              >
                Add to Cart
              </button>
            </div>
          </div>
        </div>
      </div>
    </main>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const addToCartButtons = document.querySelectorAll(".add-to-cart-btn");
        const cartCountElement = document.getElementById("cart-count");
        const cartLinkContainer = document.getElementById(
          "cart-link-container"
        );

        let cart = JSON.parse(localStorage.getItem("shoppingCart")) || [];

        const popover = new bootstrap.Popover(cartLinkContainer, {
          container: "body",
          html: true,
          placement: "bottom",
          trigger: "hover focus",
          title: "Your Cart",
          content: "Your cart is empty.",
        });

        function generatePopoverContent() {
          if (cart.length === 0) {
            return "<p class='p-2'>Your cart is empty.</p>";
          }
          let content = '<div class="list-group list-group-flush">';
          let total = 0;
          cart.forEach((item) => {
            const itemTotal = item.price * item.quantity;
            total += itemTotal;
            content += `<div class="list-group-item d-flex justify-content-between align-items-center text-sm"><span>${
              item.name
            } x${item.quantity}</span> <span>$${itemTotal.toFixed(
              2
            )}</span></div>`;
          });
          content += `<div class="list-group-item d-flex justify-content-between align-items-center fw-bold"><span>Total</span> <span>$${total.toFixed(
            2
          )}</span></div>`;
          content += "</div>";
          return content;
        }

        function updateCartCount() {
          const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
          if (cartCountElement) {
            cartCountElement.textContent = totalItems;
            cartCountElement.style.display =
              totalItems > 0 ? "inline-block" : "none";
          }
          popover.setContent({
            ".popover-body": generatePopoverContent(),
          });
        }

        addToCartButtons.forEach((button) => {
          button.addEventListener("click", (event) => {
            const productId = event.target.dataset.productId;
            const productName = event.target.dataset.productName;
            const productPrice = parseFloat(event.target.dataset.productPrice);
            const productImage = event.target.dataset.productImage;

            const existingItem = cart.find((item) => item.id === productId);

            if (existingItem) {
              existingItem.quantity++;
            } else {
              cart.push({
                id: productId,
                name: productName,
                price: productPrice,
                image: productImage,
                quantity: 1,
              });
            }

            localStorage.setItem("shoppingCart", JSON.stringify(cart));
            updateCartCount();
            alert(`${productName} added to cart!`); // Simple feedback
          });
        });
        updateCartCount(); // Initial count update on page load
      });
    </script>
  </body>
  <footer class="bg-gray-800 text-white p-6 text-center mt-12 shadow-inner">
    <div class="container mx-auto">
      <p>&copy; 2025 Todays Tech Deals. All rights reserved.</p>
      <p class="text-sm text-gray-400 mt-2">
        Designed with Bootstrap & Tailwind CSS
      </p>
    </div>
  </footer>
</html>
